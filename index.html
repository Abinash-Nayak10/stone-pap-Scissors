<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stone-Paper-Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="message">CHOOSE AN OPTION</div>
        <div class="images">
            <div class="computer">
                <img src="./image/stoneComputer.png" >
            </div>
            <div class="player">
                <img src="./image/stonePlayer.png" >
            </div>
        </div>
        <div class="points">
            COMPUTER <span class="computerPoints"> 0 </span> /
            <span class="playerPoints">0</span> PLAYER
        </div>
        <div class="msg-container">
              <p id="msg">Play Your Move.</p>
        </div>
        <div class="options">
            <button type="button">STONE</button>
            <button type="button">PAPER</button>
            <button type="button">SCISSORS</button>
        </div>
    </div>


    <script>
        const computer = document.querySelector(".computer img");
        const player = document.querySelector(".player img");
        const computerPoints = document.querySelector(".computerPoints");
        const playerPoints = document.querySelector(".playerPoints");
        const options = document.querySelectorAll(".options button");
        const msg = document.querySelector("#msg");

        options.forEach((option)=>{
            option.addEventListener("click",()=>{
                computer.classList.add("shakeComputer");
                player.classList.add("shakePlayer");

                setTimeout(()=>{
                    computer.classList.remove("shakeComputer");
                    player.classList.remove("shakePlayer");

                    player.src ="./image/" + option.innerHTML + "Player.png";

                    const choice =["STONE","PAPER","SCISSORS"];

                    let arrayNo = Math.floor(Math.random()*3);
                    let computerChoice = choice[arrayNo];

                    computer.src ="./image/" + computerChoice + "Computer.png";

                    let cPoints =parseInt(computerPoints.innerHTML);
                    let pPoints = parseInt(playerPoints.innerHTML);

                    if(computerChoice === option){
                        console.log("Game Draw !");
                        msg.innerText("Game Draw! Play Again");
                        msg.style.backgroundColor = "yellow";
                    }

                    if(option.innerHTML === "STONE") {
                        if (computerChoice === "PAPER"){
                           computerPoints.innerHTML = cPoints + 1 ;
                           console.log("Computer WIN !");
                           msg.innerText = "Computer WIN !";
                           msg.style.backgroundColor = "red";
                        }
                        else if (computerChoice === "SCISSORS"){
                          playerPoints.innerHTML = pPoints + 1;
                          console.log("You Win!");
                          msg.innerText = "You Win!";
                          msg.style.backgroundColor = "green";
                        }
                    }
                    else if(option.innerHTML ==="PAPER"){
                        if (computerChoice ==="SCISSORS"){
                          computerPoints.innerHTML = cPoints + 1;
                          console.log("Computer WIN !");
                          msg.innerText = "Computer WIN !";
                          msg.style.backgroundColor = "red";
                        }
                        else if (computerChoice === "STONE"){
                          playerPoints.innerHTML =pPoints + 1;
                          console.log("You Win!");
                          msg.innerText = "You Win!";
                          msg.style.backgroundColor = "green";
                           }
                    }else{
                        if (computerChoice ==="STONE"){
                          computerPoints.innerHTML = cPoints + 1;
                          console.log("Computer Win !");
                          msg.innerText = "Computer WIN !";
                          msg.style.backgroundColor = "red";
                        }
                        else if (computerChoice === "PAPER"){
                          playerPoints.innerHTML =pPoints + 1;
                          console.log("You Win!");
                          msg.innerText = "You Win!";
                          msg.style.backgroundColor = "green";
                        }
                    }
                    
                },900)
            })
        })
    </script>
</body>
</html>